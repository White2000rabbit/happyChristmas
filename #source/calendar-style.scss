@import 'common-style.scss';
//Анимация

@keyframes snowfall {
   0% {
     transform: translate3d(0, 0, 0);
   }
   100% {
     transform: translate3d(0, 100vh, 0);
   }
}
@keyframes wave {
   0% {
      opacity: 0;
   }
   30% {
      opacity: 0.4;
   }
   60% {
      opacity: 0.8;
   }
   100% {
      opacity: 1;
   }
}
@keyframes snowmen {
   0% {
      opacity: 0;
      transform: scale(0.1) rotate(180deg);

   }
   100% {
      opacity: 1;
      transform: scale(1);
   }
}

@keyframes move-sled {
   0% { 
      offset-distance: 0%;
   }
   100% { 
      offset-distance: 100%;
   }
}
@keyframes jumping {
   0% {
      transform-origin: right, bottom;
      transform: rotate(0deg);
   }
   20% {
      transform-origin: right, bottom;
      transform: rotate(15deg);
   }
   40% {
      transform-origin: right, bottom;
      transform: rotate(23deg);
   }
   40% {
      transform-origin: right, bottom;
      transform: rotate(35deg);
   }
   60% {
      transform-origin: right, bottom;
      transform: rotate(23deg);
   }
   80% {
      transform-origin: right, bottom;
      transform: rotate(15deg);
   }
   100% {
      transform-origin: right, bottom;
      transform: rotate(0)
   }
   
}
//контент
.content {
   background-color: $color-8;
   z-index: 5;
   position: relative;

   &__block {
   width: 100%;
   height: 100%;
   display: flex;
   justify-content: center;
   align-items: center;
   }
   &__back {
      position:relative;
   }
   &__waves {
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
   }
   &__snowmen {
      position:fixed;
   }
   &__deer {
      position: fixed;
      z-index: 100;
   }
}
//олени
.deer-1 img {
   margin-top: 40px;
      width: 300px;
      height: 300px;
   offset-path: path("M1504,193 C438,26 150,10 -346,56");
   offset-rotate: reverse;
   animation: move-sled 10s 2s ease-in-out infinite,
               jumping 1s 2s ease-in-out infinite forwards;
}
.deer-2 img {
   opacity:0.8;
   margin-top: 30px;
      width: 200px;
      height: 200px;
   offset-path: path("M1504,193 C438,26 120,10 -346,56");
      offset-rotate: reverse;
      animation: move-sled 8s 4s ease-in-out infinite,
                  jumping 1s 2s ease-in-out infinite forwards; 
}
.deer-3 img {
   opacity: 0.8;
   margin-top: 50px;
      width: 300px;
      height: 300px;
   offset-path: path("M1504,193 C438,26 190,10 -346,56");
   offset-rotate: reverse;
   animation:  move-sled 9s 6s ease-in-out infinite,
               jumping 1s 2s ease-in infinite forwards;
}
//сугробы
.wave-1, .wave-2 {
   position: fixed;
   width: 100%;
   height: 100%;
   margin-top: 10%;
}
.wave-1 {
   width: 200%;
   left: -7%;
   top: 32%;
   background-color: $wave-1;
   border-radius: 35% 15% 0px 0px;  
   animation: wave 1s linear;  
}
.wave-2 {
   left: -40%; 
   top: 56%;
   background-color: $wave-2; 
   border-radius: 45% 45% 0px 0px; 
   animation: wave 3s linear; 
}
//снежинки
.snowflake {
   --size: 1vw;
   width: var(--size);
   height: var(--size);
   background: $color-7;
   border-radius: 50%;
   position: absolute;
   top: -5vh;
   z-index: 1000;
}

@for $i from 1 through 50 {
   .snowflake:nth-child(#{$i}) {
     --size: #{random(5) * 0.2}vw; 
     left: #{random(100)}vw;
     animation: snowfall #{5 + random(10)}s linear infinite;
   }
}

//снеговик
.circle-1, .circle-2, .circle-3 {
   opacity: 0;
   position: relative;
   border-radius: 45%;
   background-color: $wave-1;
   border: 3px solid $color-6;
   
}
.circle-1 {
   width: 80px;
   height: 80px;
   top: 215px;
   left:90px;
   z-index:20;
   box-shadow: 
      inset 3px -6px 1px $color-8,
      inset 10px -20px 4px $wave-2;
   position:relative;
   animation: snowmen 300ms 0.5s ease-in-out;
   animation-fill-mode: forwards;

      &::before {
      opacity:0;
      position: absolute;
      content: '';
      width: 12px;
      height: 12px;
      top: 20px;
      left: 23px;
      border-radius: 50%;
      background-color: $color-6;
      animation: snowmen 500ms 1s ease-in-out;
      animation-fill-mode: forwards;
   }
   &::after {
      opacity:0;
      position: absolute;
      content: '';
      width: 10px;
      height: 10px;
      top: 18px;
      left: 43px;
      border-radius: 50%;
      background-color: $color-6;
      animation: snowmen 500ms 1s ease-in-out;
      animation-fill-mode: forwards;
   }

}  
.circle-2 {
   opacity:0;
   width: 120px;
   height: 120px;
   top: 200px;
   left:80px;
   z-index: 19;
   box-shadow: 
      inset -2px -5px 1px $color-8,
      inset 15px -25px 4px $wave-2;
      animation: snowmen 600ms 0.5s ease-in-out;
      animation-fill-mode: forwards;
   &::before, 
   &::after {
      content:'';
      position: absolute;
      background-color: $color-4;
      border-radius:50%;
      opacity:0;
   }
   &::before {
      top: 40px;
      width: 10px;
      height: 10px;
      left: 60px;
      animation: snowmen 400ms 3s ease-in-out;
      animation-fill-mode: forwards;
   }
   &::after {
      top: 60px;
      width: 10px;
      height: 10px;
      left: 60px;
      animation: snowmen 600ms 3s ease-in-out;
      animation-fill-mode: forwards;
   }

}
.circle-3 {
   width: 160px;
   height: 140px;
   top: 190px;
   left:60px;
   z-index: 18;
   box-shadow: 
      inset -3px -10px 1px $color-8,
      inset 14px -30px 4px $wave-2;
   animation: snowmen 10ms 0.5s ease-in-out;
   animation-fill-mode: forwards;

   &::before, &::after {
      opacity:0;
      position: absolute;
      content: '';
      animation: snowmen 300ms 4s ease-in-out;
      animation-fill-mode: forwards;
   }
   &::before {
      width: 120px;
      height: 120px;
      top:-100px;
      left:-10px;
      border-radius: 45%;
      border-left: 4px solid $color-9;
   }
   &::after {
      width: 120px;
      height: 120px;
      top:-100px;
      left:30px;
      border-radius: 45%;
      border-right: 4px solid $color-9;
   }
   
}
.face {
   position: relative;
   z-index: 20;
  &::after {
      opacity:0;
      content: '';
      position: absolute; 
      border-radius: 120px; 
      border: 15px solid transparent;
      border-left: 70px solid $color-3;
      top: -95px;
      left: 127px; 
      animation: snowmen 500ms 2s ease-in-out;
      animation-fill-mode: forwards;
  }
  &::before {
   opacity:0;
   content:'';
   position: absolute;
   top: -96px;
   left: 120px;
   width: 30px;
   height: 30px;
   border-bottom: 4px solid $color-6;
   border-radius: 35%;
   animation: snowmen 400ms 3s ease-in-out;
   animation-fill-mode: forwards;
  }
}
//карточки
.calendar {
   display: grid;
   width: 80%;
   min-height: 100vh;
   grid-template-rows: auto;
   grid-gap: 15px;
   grid-template-columns: repeat(7, 1fr);
   grid-template-areas:
      "day5 day17 day15 day6 day22 day14 day3 "
      "day23 day1  day24 day24 day20 day29 day19"
      "day25 day18 day24 day24 day30 day12 day9"
      "day7 day4 day13 day11 day21 day27 day27"
      "day28 day10 day2 day8 day31 day16 day26";
   z-index:500;
   padding: 60px 20px 30px 170px;
   justify-content: center;

   &__card {
      min-width: 8rem;
      min-height: 8rem;
      perspective: 1000px;
      border: 1px dotted black;
   }
}
.card {
   position:relative;
}
   .card--1 {
      grid-area: day1;
   }
   .card--2 {
      grid-area: day2;
   }
   .card--3 {
      grid-area: day3;
   }
   .card--4 {
      grid-area: day4;
   }
   .card--5 {
      grid-area: day5;
   }
   .card--6 {
      grid-area: day6;
   }
   .card--7 {
      grid-area: day7;
   }
   .card--8 {
      grid-area: day8;
   }
   .card--9 {
      grid-area: day9;
   }
   .card--10 {
      grid-area: day10;
   }
   .card--11 {
      grid-area: day11;
   }
   .card--12 {
      grid-area: day12;
   }
   .card--13 {
      grid-area: day13;
   }
   .card--14 {
      grid-area: day14;
   }
   .card--15 {
      grid-area: day15;
   }
   .card--16 {
      grid-area: day16;
   }
   .card--17 {
      grid-area: day17;
   }
   .card--18 {
      grid-area: day18;
   }
   .card--19 {
      grid-area: day19;
   }
   .card--20 {
      grid-area: day20;
   }
   .card--21 {
      grid-area: day21;
   }
   .card--22 {
      grid-area: day22;
   }
   card--23 {
      grid-area: day23;
   }
   .card--24 {
      grid-area: day24;
   }
   .card--25 {
      grid-area: day25;
   }
   .card--26 {
      grid-area: day26;
   }
  .card--27 {
      grid-area: day27;
   }
   .card--28 {
      grid-area: day28;
   }
   .card--29 {
      grid-area: day29;
   }
   .card--30 {
      grid-area: day30;
   }
   .card--31 {
      grid-area: day31;
   }
.front, .back {
   position: absolute;
   width: 100%;
   height: 100%;
   left: 0;
   top: 0;
   display: flex;
   justify-content: center;
   align-items: center;
   transition: 1s;
   backface-visibility: hidden;
   cursor: pointer;
}
.card:hover .front {
   transform: 0.3s rotateY(180deg);
}
.card:hover .back {
   transform: rotateY(360deg);
}
.back {
   transform: rotateY(180deg);
}
.front {
   background-color: $color-4;
   border: 1px solid $color-7;
   }
   .front span {
      display: block;
      background-color: $color-3;
      font-size: 24px;
      font-weight: 600;
      border-radius: 0px;
      width: 60px;
      height: 60px;
      padding: 23px;
      text-align: bottom left;
      border: 3px solid $color-9;  
      position: relative;
      box-shadow: inset 0px 0px 8px $color-7;
   }
   .front span:before {
      position: absolute;
      content: '';
      top: 0;
      left: 16px;
      width: 6px;
      height: 100%;
      border-left: 3px solid $border;
   }
   .front span:after {
      position: absolute;
      content: '';
      top: 16px;
      left: 0;
      width: 100%;
      height: 100%;
      border-top: 3px solid $border;
   }
.back {
   background-color: $color-2;
}
.back img {
   max-width: 100%;
   min-width: 100%;
   height: auto;
}

//Кнопка
.buttons__home {
   &::after {
   position:absolute;
   content:'Нарядить елку';
   top:5px;
   left:36px;
   font-size: 18px;
   opacity: 0;
   }
}